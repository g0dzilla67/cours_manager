<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            transition: background 0.3s;
        }

        body.dark {
            background: #1a202c;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        body.dark .header {
            background: #2d3748;
            color: white;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }

        .header h1 {
            font-size: 2em;
            color: #667eea;
        }

        body.dark .header h1 {
            color: #a78bfa;
        }

        .header p {
            color: #6b7280;
            font-size: 0.9em;
        }

        .buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 600;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-save {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-reset {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }

        .btn-theme {
            background: #f3f4f6;
            padding: 12px 16px;
        }

        body.dark .btn-theme {
            background: #4b5563;
            color: white;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            background: white;
            color: #666;
            padding: 15px 30px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        body.dark .tab {
            background: #2d3748;
            color: #d1d5db;
        }

        body.dark .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .average-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        body.dark .average-card {
            background: #2d3748;
            color: white;
        }

        .average-score {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .score-value {
            font-size: 3em;
            font-weight: bold;
        }

        .score-value.good { color: #10b981; }
        .score-value.medium { color: #f59e0b; }
        .score-value.bad { color: #ef4444; }

        .score-bar {
            width: 100%;
            height: 20px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
        }

        body.dark .score-bar {
            background: #4b5563;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .subject-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            transition: transform 0.2s;
        }

        .subject-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
        }

        body.dark .subject-card {
            background: #2d3748;
            color: white;
        }

        .subject-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .subject-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .subject-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .subject-name {
            font-size: 1.3em;
            font-weight: bold;
        }

        .subject-score {
            font-size: 2em;
            font-weight: bold;
        }

        .subject-label {
            font-size: 0.9em;
            margin-top: 5px;
            font-weight: 600;
        }

        .label-excellent { color: #10b981; }
        .label-good { color: #3b82f6; }
        .label-medium { color: #f59e0b; }
        .label-improve { color: #f97316; }
        .label-bad { color: #ef4444; }

        .slider-container {
            margin-top: 20px;
        }

        input[type="range"] {
            width: 100%;
            height: 12px;
            border-radius: 6px;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            border: none;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.85em;
            color: #6b7280;
        }

        body.dark .slider-labels {
            color: #9ca3af;
        }

        .chart-container {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        body.dark .chart-container {
            background: #2d3748;
            color: white;
        }

        .chart-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 300px;
            gap: 10px;
            padding: 20px 0;
        }

        .bar-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .bar {
            width: 100%;
            max-width: 60px;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px 10px 0 0;
            transition: all 0.3s;
            position: relative;
        }

        .bar:hover {
            transform: scaleY(1.05);
            opacity: 0.8;
        }

        .bar-label {
            font-size: 0.85em;
            font-weight: 600;
            text-align: center;
        }

        .bar-value {
            font-size: 0.9em;
            font-weight: bold;
            color: #667eea;
        }

        body.dark .bar-value {
            color: #a78bfa;
        }

        .badges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .badge-card {
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            transition: all 0.3s;
        }

        .badge-card.unlocked {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 15px 50px rgba(251, 191, 36, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1.05); }
            50% { transform: scale(1.08); }
        }

        .badge-card.locked {
            background: #f3f4f6;
            color: #9ca3af;
            opacity: 0.6;
        }

        body.dark .badge-card.locked {
            background: #374151;
        }

        .badge-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .badge-name {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .badge-description {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .save-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                text-align: center;
            }

            .header-left {
                flex-direction: column;
            }

            .subject-header {
                flex-direction: column;
                gap: 15px;
            }

            .bar-chart {
                height: 250px;
                padding: 10px 0;
            }

            .bar-label {
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>
    <div id="saveNotification" class="save-notification hidden">
        üíæ Sauvegard√©!
    </div>

    <div class="container">
        <div class="header">
            <div class="header-left">
                <div class="logo">üß†</div>
                <div>
                    <h1>Performance Tracker</h1>
                    <p>Visualise ta progression</p>
                </div>
            </div>
            <div class="buttons">
                <button class="btn-theme" onclick="toggleTheme()">üåô</button>
                <button class="btn-save" onclick="saveData()">üíæ Sauvegarder</button>
                <button class="btn-reset" onclick="resetData()">üîÑ R√©initialiser</button>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('tracker')">üìä √âvaluation</button>
            <button class="tab" onclick="switchTab('stats')">üìà Statistiques</button>
            <button class="tab" onclick="switchTab('badges')">üèÜ Badges</button>
        </div>

        <div id="tracker" class="tab-content active">
            <div class="average-card">
                <div class="average-score">
                    <h2>Score Moyen</h2>
                    <span id="averageScore" class="score-value">50%</span>
                </div>
                <div class="score-bar">
                    <div id="averageFill" class="score-fill" style="width: 50%"></div>
                </div>
            </div>

            <div id="subjectsContainer"></div>
        </div>

        <div id="stats" class="tab-content">
            <div class="chart-container">
                <h2 class="chart-title">Vue d'ensemble</h2>
                <div class="bar-chart" id="barChart"></div>
            </div>
        </div>

        <div id="badges" class="tab-content">
            <div class="badges-grid" id="badgesContainer"></div>
        </div>
    </div>

    <script>
        const subjects = [
            { id: 'math', name: 'Math√©matiques', icon: 'üî¢', value: 50, gradient: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)' },
            { id: 'french', name: 'Fran√ßais', icon: 'üìö', value: 50, gradient: 'linear-gradient(135deg, #a855f7 0%, #7c3aed 100%)' },
            { id: 'english', name: 'Anglais', icon: 'üåç', value: 50, gradient: 'linear-gradient(135deg, #10b981 0%, #059669 100%)' },
            { id: 'history', name: 'Histoire-G√©o', icon: 'üó∫Ô∏è', value: 50, gradient: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' },
            { id: 'science', name: 'Sciences', icon: 'üî¨', value: 50, gradient: 'linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)' },
            { id: 'art', name: 'Arts', icon: 'üé®', value: 50, gradient: 'linear-gradient(135deg, #ec4899 0%, #db2777 100%)' },
            { id: 'music', name: 'Musique', icon: 'üéµ', value: 50, gradient: 'linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)' },
            { id: 'sport', name: 'Sport', icon: '‚öΩ', value: 50, gradient: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)' },
            { id: 'tech', name: 'Technologie', icon: 'üíª', value: 50, gradient: 'linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)' }
        ];

        const badges = [
            { id: 'perfectionist', name: 'Perfectionniste', description: 'Toutes les mati√®res √† 80%+', icon: 'üèÜ', unlocked: false },
            { id: 'balanced', name: '√âquilibr√©', description: 'Aucune mati√®re en dessous de 40%', icon: 'üéØ', unlocked: false },
            { id: 'specialist', name: 'Sp√©cialiste', description: 'Une mati√®re √† 100%', icon: '‚≠ê', unlocked: false },
            { id: 'improver', name: 'En progression', description: 'Moyenne g√©n√©rale > 70%', icon: 'üìà', unlocked: false }
        ];

        function loadData() {
            const saved = localStorage.getItem('performanceData');
            if (saved) {
                const savedData = JSON.parse(saved);
                savedData.forEach((saved, index) => {
                    subjects[index].value = saved.value;
                });
            }
            const savedTheme = localStorage.getItem('darkMode');
            if (savedTheme === 'true') {
                document.body.classList.add('dark');
            }
        }

        function saveData() {
            localStorage.setItem('performanceData', JSON.stringify(subjects));
            localStorage.setItem('darkMode', document.body.classList.contains('dark'));
            showNotification();
        }

        function showNotification() {
            const notification = document.getElementById('saveNotification');
            notification.classList.remove('hidden');
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 2000);
        }

        function resetData() {
            subjects.forEach(subject => subject.value = 50);
            localStorage.removeItem('performanceData');
            render();
        }

        function toggleTheme() {
            document.body.classList.toggle('dark');
            const btn = document.querySelector('.btn-theme');
            btn.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
            
            if (tabName === 'stats') renderChart();
            if (tabName === 'badges') renderBadges();
        }

        function getPerformanceLabel(value) {
            if (value >= 90) return { text: 'Excellent! üåü', className: 'label-excellent' };
            if (value >= 70) return { text: 'Tr√®s bien! üí™', className: 'label-good' };
            if (value >= 50) return { text: 'Correct üëç', className: 'label-medium' };
            if (value >= 30) return { text: '√Ä am√©liorer üìö', className: 'label-improve' };
            return { text: 'R√©visions n√©cessaires üéØ', className: 'label-bad' };
        }

        function getAverageScore() {
            const sum = subjects.reduce((acc, s) => acc + s.value, 0);
            return Math.round(sum / subjects.length);
        }

        function updateSlider(id, value) {
            const subject = subjects.find(s => s.id === id);
            subject.value = parseInt(value);
            render();
        }

        function renderSubjects() {
            const container = document.getElementById('subjectsContainer');
            container.innerHTML = subjects.map(subject => {
                const label = getPerformanceLabel(subject.value);
                return `
                    <div class="subject-card">
                        <div class="subject-header">
                            <div class="subject-info">
                                <div class="subject-icon" style="background: ${subject.gradient}">
                                    ${subject.icon}
                                </div>
                                <div>
                                    <div class="subject-name">${subject.name}</div>
                                    <div class="subject-label ${label.className}">${label.text}</div>
                                </div>
                            </div>
                            <div class="subject-score">${subject.value}%</div>
                        </div>
                        <div class="slider-container">
                            <input type="range" min="0" max="100" step="5" value="${subject.value}" 
                                   oninput="updateSlider('${subject.id}', this.value)"
                                   style="background: linear-gradient(to right, ${subject.gradient.replace('135deg', '90deg')} 0%, ${subject.gradient.replace('135deg', '90deg')} ${subject.value}%, #e5e7eb ${subject.value}%, #e5e7eb 100%)">
                            <div class="slider-labels">
                                <span>√Ä r√©viser</span>
                                <span>Excellent</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderAverage() {
            const avg = getAverageScore();
            const scoreEl = document.getElementById('averageScore');
            const fillEl = document.getElementById('averageFill');
            
            scoreEl.textContent = avg + '%';
            scoreEl.className = 'score-value ' + (avg >= 70 ? 'good' : avg >= 50 ? 'medium' : 'bad');
            fillEl.style.width = avg + '%';
        }

        function renderChart() {
            const container = document.getElementById('barChart');
            container.innerHTML = subjects.map(subject => {
                const height = (subject.value / 100) * 250;
                return `
                    <div class="bar-item">
                        <div class="bar-value">${subject.value}%</div>
                        <div class="bar" style="height: ${height}px; background: ${subject.gradient}"></div>
                        <div class="bar-label">${subject.name.substring(0, 6)}</div>
                    </div>
                `;
            }).join('');
        }

        function checkBadges() {
            badges[0].unlocked = subjects.every(s => s.value >= 80);
            badges[1].unlocked = subjects.every(s => s.value >= 40);
            badges[2].unlocked = subjects.some(s => s.value === 100);
            badges[3].unlocked = getAverageScore() > 70;
        }

        function renderBadges() {
            checkBadges();
            const container = document.getElementById('badgesContainer');
            container.innerHTML = badges.map(badge => `
                <div class="badge-card ${badge.unlocked ? 'unlocked' : 'locked'}">
                    <div class="badge-icon">${badge.icon}</div>
                    <div class="badge-name">${badge.name}</div>
                    <div class="badge-description">${badge.description}</div>
                    ${badge.unlocked ? '<div style="margin-top: 10px; font-size: 1.5em">üéâ</div>' : ''}
                </div>
            `).join('');
        }

        function render() {
            renderSubjects();
            renderAverage();
            checkBadges();
        }

        loadData();
        render();
    </script>
</body>
</html>
